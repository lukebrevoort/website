(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{30903:(e,a,t)=>{Promise.resolve().then(t.bind(t,14953))},14953:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>P});var r=t(95155),l=t(12115),s=t(18916),n=t(25683),i=t(22130),d=t(73312),o=t(21567);let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...l})});c.displayName="Textarea";var m=t(4292),u=t(77711);let f=(0,u.default)(()=>Promise.all([t.e(568),t.e(245)]).then(t.bind(t,31006)).then(e=>e.Check),{loadableGenerated:{webpack:()=>[31006]}}),p=(0,u.default)(()=>Promise.all([t.e(568),t.e(245)]).then(t.bind(t,31006)).then(e=>e.ChevronDown),{loadableGenerated:{webpack:()=>[31006]}}),x=(0,u.default)(()=>Promise.all([t.e(568),t.e(245)]).then(t.bind(t,31006)).then(e=>e.ChevronUp),{loadableGenerated:{webpack:()=>[31006]}}),h=m.bL;m.YJ;let g=m.WT,w=l.forwardRef((e,a)=>{let{className:t,children:l,...s}=e;return(0,r.jsxs)(m.l9,{ref:a,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[l,(0,r.jsx)(m.In,{asChild:!0,children:(0,r.jsx)(p,{className:"h-4 w-4 opacity-50"})})]})});w.displayName=m.l9.displayName;let b=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)(m.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,r.jsx)(x,{className:"h-4 w-4"})})});b.displayName=m.PP.displayName;let y=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)(m.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,r.jsx)(p,{className:"h-4 w-4"})})});y.displayName=m.wn.displayName;let j=l.forwardRef((e,a)=>{let{className:t,children:l,position:s="popper",...n}=e;return(0,r.jsx)(m.ZL,{children:(0,r.jsxs)(m.UC,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[(0,r.jsx)(b,{}),(0,r.jsx)(m.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,r.jsx)(y,{})]})})});j.displayName=m.UC.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)(m.JU,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",t),...l})}).displayName=m.JU.displayName;let N=l.forwardRef((e,a)=>{let{className:t,children:l,...s}=e;return(0,r.jsxs)(m.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(m.VF,{children:(0,r.jsx)(f,{className:"h-4 w-4"})})}),(0,r.jsx)(m.p4,{children:l})]})});N.displayName=m.q7.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)(m.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...l})}).displayName=m.wv.displayName;var v=t(16838);let _=l.forwardRef((e,a)=>{let{className:t,value:l,...s}=e;return(0,r.jsx)(v.bL,{ref:a,className:(0,o.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...s,children:(0,r.jsx)(v.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});_.displayName=v.bL.displayName;var k=t(20994),L=t.n(k),C=t(28571),R=t(19176),B=t(73011),S=t(15157);let M={llama:"Llama-3-8B-Instruct-q4f32_1-MLC",deepseekr1:"DeepSeek-R1-Distill-Llama-8B-q4f16_1-MLC",leetcode:"Llama-3.2-3B-Instruct-q4f16_1-MLC"};function P(){let[e,a]=(0,l.useState)("Llama-3-8B-Instruct-q4f32_1-MLC"),[o,m]=(0,l.useState)([{content:"You are a helpful AI agent helping users.",role:"system"}]),[u,f]=(0,l.useState)(""),[p,x]=(0,l.useState)(""),[b,y]=(0,l.useState)(!1),[v,k]=(0,l.useState)(0),[P,I]=(0,l.useState)(null),[q,D]=(0,l.useState)(!0),E=(0,l.useRef)(null),z=(0,l.useRef)(null),F=(0,l.useRef)(null),J=(0,l.useRef)(null);(0,l.useEffect)(()=>{(async()=>{try{D(!0);let e=await Promise.all([t.e(775),t.e(714)]).then(t.bind(t,60475));J.current=e,F.current=new e.MLCEngine;let{modelVersion:r,modelLibURLPrefix:l}=e;I({model_list:[{model:"https://huggingface.co/mlc-ai/Llama-3-8B-Instruct-q4f32_1-MLC",model_id:"Llama-3-8B-Instruct-q4f32_1-MLC",model_lib:"".concat(l).concat(r,"/Llama-3-8B-Instruct-q4f32_1-ctx4k_cs1k-webgpu.wasm"),model_name:"Llama-3.8B-Instruct"},{model:"https://huggingface.co/lbrevoort/llama-3.2-3b-it-Leetcode-Chatbot",model_id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",model_lib:"".concat(l).concat(r,"/Llama-3.2-3B-Instruct-q4f16_1-ctx4k_cs1k-webgpu.wasm"),model_name:"Llama-3.8B-Leetcode",vram_required_MB:2263.69,low_resource_required:!0,overrides:{context_window_size:4096}},{model:"https://huggingface.co/mlc-ai/DeepSeek-R1-Distill-Llama-8B-q4f16_1-MLC",model_id:"DeepSeek-R1-Distill-Llama-8B-q4f16_1-MLC",model_lib:"".concat(l).concat(r,"/Llama-3_1-8B-Instruct-q4f16_1-ctx4k_cs1k-webgpu.wasm"),model_name:"DeepSeek-R1-Distill-Llama-8B",vram_required_MB:5001,low_resource_required:!1,overrides:{context_window_size:4096}}]});let s=window.location.hash.slice(1);s&&s in M&&M[s]&&a(M[s]),D(!1)}catch(e){console.error("Failed to initialize web-llm:",e),f("Failed to load web-llm module"),D(!1)}})()},[]);let T=e=>{f(e.text),k(100*e.progress)},Z=async()=>{if(!F.current){f("Engine not initialized");return}F.current.setInitProgressCallback(T);try{await F.current.reload(e,{temperature:1,top_p:1,cache:!1}),y(!0),f("")}catch(e){console.error("Engine initialization error:",e),f("Failed to initialize model")}},A=async(e,a,t,r)=>{try{let r,s="";if(!F.current)throw Error("Engine not initialized");for await(let t of(await F.current.chat.completions.create({stream:!0,messages:e,stream_options:{include_usage:!0}}))){var l;let e=null===(l=t.choices[0])||void 0===l?void 0:l.delta.content;e&&(s+=e,a(s)),t.usage&&(r=t.usage)}let n=await F.current.getMessage();if(!r)throw Error("No usage data available");t(n,r)}catch(e){r(e instanceof Error?e:Error(String(e)))}},H=async()=>{if(!z.current)return;let e=z.current.value.trim();if(0===e.length)return;let a={content:e,role:"user"};m(e=>[...e,a]),z.current.value="";let t={content:"typing...",role:"assistant"};m(e=>[...e,t]);try{await A([...o,a],e=>{m(a=>{let t=[...a];return t[t.length-1]={...t[t.length-1],content:e},t})},(e,a)=>{m(a=>{let t=[...a];return t[t.length-1]={...t[t.length-1],content:e},t});let t="prompt_tokens: ".concat(a.prompt_tokens,", ")+"completion_tokens: ".concat(a.completion_tokens,", ")+"prefill: ".concat(a.extra.prefill_tokens_per_s.toFixed(4)," tokens/sec, ")+"decoding: ".concat(a.extra.decode_tokens_per_s.toFixed(4)," tokens/sec");x(t)},console.error)}catch(e){console.error("Message send error:",e)}};return((0,l.useEffect)(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[o]),q)?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsx)("p",{children:"Loading AI capabilities..."})}):(0,r.jsxs)(R.SidebarProvider,{defaultOpen:!1,children:[(0,r.jsx)(C.AppSidebar,{}),(0,r.jsxs)(R.SidebarInset,{children:[(0,r.jsx)("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 sticky top-0 z-50 bg-background",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4",children:[(0,r.jsx)(R.SidebarTrigger,{className:"-ml-1"}),(0,r.jsx)(S.Separator,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)(B.Qp,{children:(0,r.jsxs)(B.AB,{children:[(0,r.jsx)(B.J5,{children:(0,r.jsx)(B.w1,{href:"/",children:"Home"})}),(0,r.jsx)(B.tH,{}),(0,r.jsx)(B.J5,{children:(0,r.jsx)(B.w1,{href:"/models",children:"AI Models"})})]})})]})}),(0,r.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto py-8 px-4",children:[(0,r.jsxs)(i.Zp,{className:"mb-8",children:[(0,r.jsx)(i.aR,{className:"text-4xl",children:(0,r.jsx)(i.ZB,{className:L().className,children:"Select and Initialize Model"})}),(0,r.jsxs)(i.Wu,{className:"flex flex-col gap-4",children:[P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h,{value:e,onValueChange:a,children:[(0,r.jsx)(w,{children:(0,r.jsx)(g,{placeholder:"Select a model"})}),(0,r.jsx)(j,{children:P.model_list.map(e=>(0,r.jsx)(N,{value:e.model_id,children:e.model_name},e.model_id))})]}),(0,r.jsx)(d.$,{onClick:Z,disabled:b,className:"w-full",children:b?"Model Ready":"Download Model"})]}),u&&(0,r.jsxs)(s.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:u}),(0,r.jsx)(_,{value:v})]})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{className:"text-4xl",children:(0,r.jsx)(i.ZB,{className:L().className,children:"Chat Interface"})}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)(s.P.div,{layout:!0,className:"flex flex-col gap-4 h-[600px]",children:[(0,r.jsx)("div",{ref:E,className:"flex-1 overflow-y-auto space-y-4 p-4 rounded-lg border",children:(0,r.jsx)(n.N,{children:o.map((e,a)=>(0,r.jsx)(s.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"max-w-[80%] p-3 rounded-lg ".concat("user"===e.role?"bg-primary text-primary-foreground":"bg-muted"),children:e.content})},a))})}),p&&(0,r.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-muted-foreground p-2 bg-muted rounded-lg",children:p}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c,{ref:z,placeholder:b?"Type a message...":"Please download model first",disabled:!b,className:"min-h-[60px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),H())}}),(0,r.jsx)(d.$,{onClick:H,disabled:!b,className:"h-auto",children:"Send"})]})]})})]})]})]})]})}},73011:(e,a,t)=>{"use strict";t.d(a,{AB:()=>c,J5:()=>m,Qp:()=>o,tH:()=>p,tJ:()=>f,w1:()=>u});var r=t(95155),l=t(12115),s=t(12317),n=t(77711),i=t(21567);let d=(0,n.default)(()=>Promise.all([t.e(568),t.e(245)]).then(t.bind(t,31006)).then(e=>e.ChevronRight),{loadableGenerated:{webpack:()=>[31006]}}),o=((0,n.default)(()=>Promise.all([t.e(568),t.e(245)]).then(t.bind(t,31006)).then(e=>e.MoreHorizontal),{loadableGenerated:{webpack:()=>[31006]}}),l.forwardRef((e,a)=>{let{...t}=e;return(0,r.jsx)("nav",{ref:a,"aria-label":"breadcrumb",...t})}));o.displayName="Breadcrumb";let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("ol",{ref:a,className:(0,i.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...l})});c.displayName="BreadcrumbList";let m=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("li",{ref:a,className:(0,i.cn)("inline-flex items-center gap-1.5",t),...l})});m.displayName="BreadcrumbItem";let u=l.forwardRef((e,a)=>{let{asChild:t,className:l,...n}=e,d=t?s.DX:"a";return(0,r.jsx)(d,{ref:a,className:(0,i.cn)("transition-colors hover:text-foreground",l),...n})});u.displayName="BreadcrumbLink";let f=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("font-normal text-foreground",t),...l})});f.displayName="BreadcrumbPage";let p=e=>{let{children:a,className:t,...l}=e;return(0,r.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...l,children:null!=a?a:(0,r.jsx)(d,{})})};p.displayName="BreadcrumbSeparator"},22130:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>m});var r=t(95155),l=t(12115),s=t(21567);let n=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...l})});n.displayName="Card";let i=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("font-semibold leading-none tracking-tight",t),...l})});d.displayName="CardTitle";let o=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",t),...l})});o.displayName="CardDescription";let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",t),...l})});c.displayName="CardContent";let m=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",t),...l})});m.displayName="CardFooter"}},e=>{var a=a=>e(e.s=a);e.O(0,[18,923,147,916,298,571,441,517,358],()=>a(30903)),_N_E=e.O()}]);